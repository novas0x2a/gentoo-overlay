--- /home/mike/xdelta3.0.0//setup.py	2011-09-07 16:26:10.406907749 -0700
+++ setup.py	2011-09-07 17:21:45.775259706 -0700
@@ -49,6 +49,23 @@
                                                # '-arch', 'x86_64',
                                                ])
 
+xdelta3 = Extension('xdelta3',
+            sources=['xdelta3_wrap.c', 'xdelta3.c'],
+            define_macros = [
+                ('XD3_DEBUG',1),
+                ('EXTERNAL_COMPRESSION',0),
+                ('XD3_USE_LARGEFILE64',1),
+                ('GENERIC_ENCODE_TABLES',1),
+                ('SECONDARY_DJW',1),
+                ('VCDIFF_TOOLS',1),
+                ('SWIG_MODULE',1),
+            ],
+        extra_compile_args = [ '-O3',
+                               '-g',
+                               '-fno-builtin',
+                               # '-arch', 'x86_64',
+                                ])
+
 # $Format: "REL='$Xdelta3Version$'" $
 REL='3.0.0'
 
@@ -57,3 +74,8 @@
 setup(name='xdelta3main',
       version=REL,
       ext_modules=[xdelta3_ext])
+
+setup(name='xdelta3',
+      version=REL,
+      py_modules=['xdelta3'],
+      ext_modules=[xdelta3])
